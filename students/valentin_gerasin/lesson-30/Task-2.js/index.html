<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    </style>
</head>

<body>
    <table id="tableСities" border="5" bordercolor="black" align="center" cellpadding="10" cellspacing="5">
        <thead></thead>
        <tbody></tbody>
    </table>
    <script>
        let cities = [
            {
                name: 'Kiev',
                country: 'Ukraine',
                area: 839,
                population: 2884000
            },
            {
                name: 'Moscow',
                country: 'Russia',
                area: 2511,
                population: 1192000
            },
            {
                name: 'Warsaw',
                country: 'Poland',
                area: 517,
                population: 1765000
            },
            {
                name: 'Berlin',
                country: 'Germany',
                area: 891,
                population: 3645000
            },
            {
                name: 'London',
                country: 'England',
                area: 1572,
                population: 8982000
            },
            {
                name: 'Paris',
                country: 'France',
                area: 105,
                population: 2161000
            },
        ]

        const headings = [
            'City', 'Country', 'Area (km2)', 'Population'
        ]

        document.querySelector('#tableСities tbody').innerHTML += cities.map(cities => `
        <tr>
            <td>${cities.name}</td>
            <td>${cities.country}</td>
            <td>${cities.area}</td>
            <td>${cities.population}</td>
        </tr>
        `).join('');


        (tableСities.tHead).innerHTML += headings.map(title => `
            <th>${title}</th>
        `).join('');


        const sortСities = (i) => {
            const sortedRows = Array.from(tableСities.rows)
                .slice(1)
                .sort((rowA, rowB) => rowA.cells[i].innerHTML > rowB.cells[i].innerHTML ? 1 : -1);
            tableСities.tBodies[0].append(...sortedRows);
        }


        document.querySelectorAll('#tableСities thead th').forEach((title, i) => title.addEventListener('click', () => {
            sortСities(i)
        })

        );
    </script>
</body>

</html>